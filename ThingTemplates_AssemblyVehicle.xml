<?xml version="1.0" encoding="UTF-8" standalone="no"?><Entities build="b9557" majorVersion="9" minorVersion="0" modelPersistenceProviderPackage="PostgresPersistenceProviderPackage" revision="0" schemaVersion="1100" universal=""><ThingTemplates><ThingTemplate baseThingTemplate="GenericThing" description="" documentationContent="" effectiveThingPackage="ConfiguredThing" homeMashup="" inheritedValueStream="" lastModifiedDate="2020-11-01T15:15:41.016Z" name="AssemblyVehicle" projectName="The Assembly - Fleet Management" tags="" thingPackage="" valueStream="VS_AssemblyVehicle"><Owner name="Administrator" type="User"/><avatar/><DesignTimePermissions><Create/><Read/><Update/><Delete/><Metadata/></DesignTimePermissions><RunTimePermissions/><VisibilityPermissions><Visibility/></VisibilityPermissions><ConfigurationTableDefinitions/><ConfigurationTables/><PropertyBindings/><RemotePropertyBindings/><RemoteServiceBindings/><RemoteEventBindings/><AlertConfigurations><AlertDefinitions name="Destination"/><AlertDefinitions name="FuelConsumption"/><AlertDefinitions name="IsAvailable"/><AlertDefinitions name="IsEnRoute"/><AlertDefinitions name="LastWarning"/><AlertDefinitions name="Mileage"/><AlertDefinitions name="NumberOfWarnings"/><AlertDefinitions name="Operator"/><AlertDefinitions name="Position"/><AlertDefinitions name="Speed"/></AlertConfigurations><ThingShape><PropertyDefinitions><PropertyDefinition aspect.cacheTime="0.0" aspect.dataChangeType="VALUE" aspect.isLogged="true" aspect.isPersistent="true" baseType="STRING" category="" description="" isLocalOnly="false" name="Destination" ordinal="2"/><PropertyDefinition aspect.cacheTime="0.0" aspect.dataChangeType="VALUE" aspect.isPersistent="true" aspect.units="gallons" baseType="NUMBER" category="" description="" isLocalOnly="false" name="FuelConsumption" ordinal="6"/><PropertyDefinition aspect.cacheTime="0.0" aspect.dataChangeType="VALUE" aspect.defaultValue="true" aspect.isPersistent="true" baseType="BOOLEAN" category="" description="" isLocalOnly="false" name="IsAvailable" ordinal="10"/><PropertyDefinition aspect.cacheTime="0.0" aspect.dataChangeType="VALUE" aspect.defaultValue="false" aspect.isPersistent="true" baseType="BOOLEAN" category="" description="" isLocalOnly="false" name="IsEnRoute" ordinal="11"/><PropertyDefinition aspect.cacheTime="0.0" aspect.dataChangeType="VALUE" aspect.isLogged="true" aspect.isPersistent="true" baseType="STRING" category="" description="" isLocalOnly="false" name="LastWarning" ordinal="8"/><PropertyDefinition aspect.cacheTime="0.0" aspect.dataChangeType="VALUE" aspect.isPersistent="true" aspect.units="km" baseType="NUMBER" category="" description="" isLocalOnly="false" name="Mileage" ordinal="5"/><PropertyDefinition aspect.cacheTime="0.0" aspect.dataChangeType="VALUE" aspect.isPersistent="true" baseType="INTEGER" category="" description="" isLocalOnly="false" name="NumberOfWarnings" ordinal="9"/><PropertyDefinition aspect.cacheTime="0.0" aspect.dataChangeType="VALUE" aspect.isLogged="true" aspect.isPersistent="true" baseType="STRING" category="" description="" isLocalOnly="false" name="Operator" ordinal="7"/><PropertyDefinition aspect.cacheTime="0.0" aspect.dataChangeType="VALUE" aspect.isLogged="true" aspect.isPersistent="true" baseType="LOCATION" category="" description="" isLocalOnly="false" name="Position" ordinal="3"/><PropertyDefinition aspect.cacheTime="0.0" aspect.dataChangeType="VALUE" aspect.isLogged="true" aspect.isPersistent="true" aspect.units="km/h" baseType="NUMBER" category="" description="" isLocalOnly="false" name="Speed" ordinal="4"/></PropertyDefinitions><ServiceDefinitions><ServiceDefinition aspect.isAsync="false" category="" description="" isAllowOverride="true" isLocalOnly="false" isOpen="false" isPrivate="false" name="GetFuelEconomy"><ResultType baseType="NUMBER" description="" name="result" ordinal="0"/><ParameterDefinitions/></ServiceDefinition></ServiceDefinitions><EventDefinitions/><ServiceMappings/><ServiceImplementations><ServiceImplementation description="" handlerName="Script" name="GetFuelEconomy"><ConfigurationTables><ConfigurationTable dataShapeName="" description="" isMultiRow="false" name="Script" ordinal="0"><DataShape><FieldDefinitions><FieldDefinition baseType="STRING" description="code" name="code" ordinal="0"/></FieldDefinitions></DataShape><Rows><Row><code><![CDATA[if (me.FuelConsumption != 0)
	result = me.Mileage / me.FuelConsumption;
else
	result = 0;]]></code></Row></Rows></ConfigurationTable></ConfigurationTables></ServiceImplementation></ServiceImplementations><Subscriptions><Subscription description="" enabled="true" eventName="DataChange" name="ExcessAcceleration" source="" sourceProperty="Speed" sourceType="Thing"><ServiceImplementation description="" handlerName="Script" name="ExcessAcceleration"><ConfigurationTables><ConfigurationTable dataShapeName="" description="" isMultiRow="false" name="Script" ordinal="0"><DataShape><FieldDefinitions><FieldDefinition baseType="STRING" description="code" name="code" ordinal="0"/></FieldDefinitions></DataShape><Rows><Row><code><![CDATA[speedChange = eventData.newValue.value - eventData.oldValue.value;
timeChange = eventData.newValue.time - eventData.oldValue.time;

if (speedChange > 40.0)
{
    me.LastWarning = "Excess acceleration by " +me.Operator + ":" + speedChange + "km/h in " + timeChange/1000 + " seconds";
    me.NumberOfWarnings++;
}]]></code></Row></Rows></ConfigurationTable></ConfigurationTables></ServiceImplementation></Subscription><Subscription description="" enabled="true" eventName="Alert" name="ExcessSpeedWarning" source="" sourceProperty="Speed" sourceType="Thing"><ServiceImplementation description="" handlerName="Script" name="ExcessSpeedWarning"><ConfigurationTables><ConfigurationTable dataShapeName="" description="" isMultiRow="false" name="Script" ordinal="0"><DataShape><FieldDefinitions><FieldDefinition baseType="STRING" description="code" name="code" ordinal="0"/></FieldDefinitions></DataShape><Rows><Row><code><![CDATA[me.LastWarning = "Speed exceeded by " + me.Operator + "(" + me.Speed + "km/h)";
me.NumberOfWarnings++;]]></code></Row></Rows></ConfigurationTable></ConfigurationTables></ServiceImplementation></Subscription><Subscription description="" enabled="true" eventName="DataChange" name="UpdateIsAvailable" source="" sourceProperty="Destination" sourceType="Thing"><ServiceImplementation description="" handlerName="Script" name="UpdateIsAvailable"><ConfigurationTables><ConfigurationTable dataShapeName="" description="" isMultiRow="false" name="Script" ordinal="0"><DataShape><FieldDefinitions><FieldDefinition baseType="STRING" description="code" name="code" ordinal="0"/></FieldDefinitions></DataShape><Rows><Row><code><![CDATA[me.IsAvailable = (eventData.newValue.value == "");]]></code></Row></Rows></ConfigurationTable></ConfigurationTables></ServiceImplementation></Subscription></Subscriptions></ThingShape><ImplementedShapes/><SharedConfigurationTables/><InstanceDesignTimePermissions><Create/><Read/><Update/><Delete/><Metadata/></InstanceDesignTimePermissions><InstanceRunTimePermissions/><InstanceVisibilityPermissions><Visibility/></InstanceVisibilityPermissions><ConfigurationChanges><ConfigurationChange changeAction="CREATE" changeReason="header : name : updated&#10;" timestamp="2020-10-27T14:21:02.380Z" user="Administrator"/><ConfigurationChange changeAction="MODIFY" changeReason="header : valueStream : updated&#10;" timestamp="2020-10-27T14:24:39.887Z" user="Administrator"/><ConfigurationChange changeAction="MODIFY" changeReason="properties : Destination : added, Position : added, Speed : added, Mileage : added, FuelConsumption : added, Operator : added, LastWarning : added, NumberOfWarnings : added, IsAvailable : added, IsEnRoute : added&#10;" timestamp="2020-10-27T14:30:02.767Z" user="Administrator"/><ConfigurationChange changeAction="MODIFY" changeReason="subscriptions : UpdateIsAvailable : added&#10;" timestamp="2020-10-27T14:36:37.570Z" user="Administrator"/><ConfigurationChange changeAction="MODIFY" changeReason="subscriptions : ExcessAcceleration : added&#10;" timestamp="2020-10-27T14:42:17.297Z" user="Administrator"/><ConfigurationChange changeAction="MODIFY" changeReason="subscriptions : ExcessAcceleration : code updated&#10;" timestamp="2020-10-27T14:43:15.479Z" user="Administrator"/><ConfigurationChange changeAction="MODIFY" changeReason="subscriptions : ExcessSpeedWarning : added&#10;" timestamp="2020-10-27T14:50:49.176Z" user="Administrator"/><ConfigurationChange changeAction="MODIFY" changeReason="subscriptions : ExcessSpeedWarning : code updated&#10;" timestamp="2020-10-27T14:51:43.988Z" user="Administrator"/><ConfigurationChange changeAction="MODIFY" changeReason="services : GetFuelEconomy : service added&#10;" timestamp="2020-10-27T14:55:26.366Z" user="Administrator"/><ConfigurationChange changeAction="MODIFY" changeReason="SetProjectName : []" timestamp="2020-11-01T15:15:40.972Z" user="Administrator"/><ConfigurationChange changeAction="MODIFY" changeReason="SetProjectName : [The Assembly - Fleet Management]" timestamp="2020-11-01T15:15:41.016Z" user="Administrator"/></ConfigurationChanges></ThingTemplate></ThingTemplates></Entities>